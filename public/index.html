<script src='https://unpkg.com/enigmatic'></script>
<script type=module src=/public/schemas/schema.mjs></script>
<script type=module src='/module.mjs'></script>
<link rel=stylesheet href=https://unpkg.com/enigmatic/enigmatic.css>

<script>
  element('type-detail', {
    template: `{$key} <input name='{$key}' type='{_val_}' rectype=''></input> <br>`,
    beforeData: (x) => { for(let k in x) if(x[k] === 'boolean') x[k] = 'checkbox'; return x },
  })
</script>

<div data="types">
  <a href=# onclick="state.typedetail=db.schema.{$key}">{$key}</a>
</div>
<type-detail id="det" data="typedetail"></type-detail>

<button onclick='db.insertElements("#det > *")'>Insert</button>

<button onclick="state.types=db.schema">go</button>
